(this.webpackJsonptarea3=this.webpackJsonptarea3||[]).push([[0],{134:function(e,t,n){"use strict";n.r(t);var c,s=n(0),i=n(29),a=n.n(i),o=n(43),r=n(18),j=n(72),l=n.n(j),u=(n(62),n(1)),O=function(e){var t=e.setMessage,n=e.sendMessage,c=e.message;return Object(u.jsxs)("form",{className:"form",children:[Object(u.jsx)("input",{className:"input",type:"text",placeholder:"Type a message...",value:c,onChange:function(e){var n=e.target.value;return t(n)},onKeyPress:function(e){return"Enter"===e.key?n(e):null}}),Object(u.jsx)("button",{className:"sendButton",onClick:function(e){return n(e)},children:"Send"})]})},d=n(73),h=n.n(d),b=function(e){var t=e.message,n=t.name,c=t.date,s=t.message,i=(e.my_name,new Date(parseInt(c)));return Object(u.jsxs)("div",{children:[Object(u.jsxs)("h4",{children:[n,":"]}),Object(u.jsx)("p",{children:s}),Object(u.jsx)("h5",{children:h()(i).format("DD-MM-YYYY HH:mm:ss")})]})},f=function(e){var t=e.messages,n=e.my_name;return Object(u.jsx)("div",{className:"chatBox",children:t.map((function(e,t){return Object(u.jsxs)("div",{children:[Object(u.jsx)(b,{message:e,my_name:n})," ",Object(u.jsx)("hr",{})]},t)}))})},p=n(40),m=n.n(p),x=function(e){var t=e.flight,n=t.code,c=t.airline,i=t.origin,a=t.destination,o=t.plane,j=t.seats,l=t.passengers,O=Object(s.useState)(""),d=Object(r.a)(O,2),h=d[0],b=d[1],f=Object(s.useState)(""),p=Object(r.a)(f,2),x=p[0],g=p[1];return Object(s.useEffect)((function(){m.a.get("https://api.mapbox.com/geocoding/v5/mapbox.places/"+String(i[1])+","+String(i[0])+".json?&access_token=pk.eyJ1IjoicmFpbW9uZGQwMjAzIiwiYSI6ImNraHowZnZodjBmOGwycWs2N3d5aWY4YW8ifQ.zbhiwYQxUa16IfTrNNVsEQ").then((function(e){b(e.data.features[0].place_name)})).catch((function(e){b("No Adress"),console.log(e)}))})),Object(s.useEffect)((function(){m.a.get("https://api.mapbox.com/geocoding/v5/mapbox.places/"+String(a[1])+","+String(a[0])+".json?&access_token=pk.eyJ1IjoicmFpbW9uZGQwMjAzIiwiYSI6ImNraHowZnZodjBmOGwycWs2N3d5aWY4YW8ifQ.zbhiwYQxUa16IfTrNNVsEQ").then((function(e){g(e.data.features[0].place_name)})).catch((function(e){g("No Adress"),console.log(e)}))})),Object(u.jsxs)("div",{children:[Object(u.jsxs)("h3",{children:["Flight ",n]}),Object(u.jsxs)("p",{children:["Airline ",c]}),Object(u.jsxs)("p",{children:["Plane ",o]}),Object(u.jsxs)("p",{children:["Origin: ",h]}),Object(u.jsxs)("p",{children:["Destination: ",x]}),Object(u.jsxs)("p",{children:["Seats: ",j]}),Object(u.jsx)("p",{children:"Passengers:"}),Object(u.jsx)("hr",{}),l.map((function(e,t){return Object(u.jsxs)("div",{children:["name: ",e.name," age: ",e.age]},t)}))]})},g=n(136),A=n(137),v=n(138),Y=function(e){var t=e.flights;return Object(u.jsx)(g.a,{children:Object(u.jsx)(A.a,{children:t.map((function(e,t){return Object(u.jsx)(v.a,{xs:3,children:Object(u.jsx)(x,{flight:e})},t)}))})})},w=function(e){var t=e.getflights;return Object(u.jsx)("button",{className:"sendButton",onClick:function(e){return t(e)},children:"Get Flights"})},k=n(141),E=n(142),S=n(139),M=n(143),I=n(140),C=n(7),Q=n.n(C),G=n.p+"static/media/avion.083626a5.png",N=function(e){var t=e.flights,n=(e.positions,e.filterItems),c=e.lastItem,s=new Q.a.icon({iconUrl:"data:image/png;base64,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",iconSize:[20,20]}),i=new Q.a.icon({iconUrl:G,iconSize:[40,30]});return Object(u.jsx)("div",{children:Object(u.jsxs)(k.a,{className:"map",center:[-30,-60],zoom:4,style:{height:400,width:"100%"},children:[Object(u.jsx)(E.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t.map((function(e,t){return Object(u.jsxs)("div",{children:[Object(u.jsx)(S.a,{icon:s,position:[e.origin[0],e.origin[1]]}),Object(u.jsx)(S.a,{icon:s,position:[e.destination[0],e.destination[1]]}),Object(u.jsx)(S.a,{icon:i,position:c(e.code),onmouseover:function(e){e.target.openPopup()},onmouseout:function(e){e.target.closePopup()},children:Object(u.jsx)(M.a,{children:e.code})}),Object(u.jsx)(I.a,{color:"red",positions:n(e.code).map((function(e){return e.position}))}),Object(u.jsx)(I.a,{dashArray:30,color:"yellow",positions:[[e.origin[0],e.origin[1]],[e.destination[0],e.destination[1]]]})]},t)}))]})})},U=function(){var e=Object(s.useState)(""),t=Object(r.a)(e,2),n=t[0],i=t[1],a=Object(s.useState)([]),j=Object(r.a)(a,2),d=j[0],h=j[1],b=Object(s.useState)(""),p=Object(r.a)(b,2),m=p[0],x=p[1],k=Object(s.useState)([]),E=Object(r.a)(k,2),S=E[0],M=E[1],I=Object(s.useState)([]),C=Object(r.a)(I,2),Q=C[0],G=C[1];Object(s.useEffect)((function(){(c=l()("wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl/",{path:"/flights"})).emit("FLIGHTS")}),[]),Object(s.useEffect)((function(){c.on("FLIGHTS",(function(e){M(e)}))}),[]),Object(s.useEffect)((function(){c.on("CHAT",(function(e){h((function(t){return[].concat(Object(o.a)(t),[e])}))}))}),[]),Object(s.useEffect)((function(){c.on("POSITION",(function(e){G((function(t){return[].concat(Object(o.a)(t),[e])}))}))}),[]);function U(e){return Q.filter((function(t){return t.code===e}))}return Object(u.jsxs)("div",{children:[Object(u.jsx)(g.a,{children:Object(u.jsxs)(A.a,{children:[Object(u.jsxs)(v.a,{xs:8,children:[Object(u.jsx)("h1",{children:"Live Flights"}),Object(u.jsx)(N,{flights:S,positions:Q,filterItems:U,lastItem:function(e){var t=U(e);return 0!==t.length?t[t.length-1].position:[0,0]}}),Object(u.jsx)(w,{getflights:function(){c.emit("FLIGHTS")}})]}),Object(u.jsxs)(v.a,{xs:4,children:[Object(u.jsx)("h1",{children:"Live Chat"}),Object(u.jsx)(f,{messages:d,name:n}),Object(u.jsx)("input",{placeholder:"Name",type:"text",onChange:function(e){return i(e.target.value)}}),Object(u.jsx)(O,{message:m,setMessage:x,sendMessage:function(e){e.preventDefault(),m&&(c.emit("CHAT",{message:m,name:n}),x(""))}})]})]})}),Object(u.jsx)(Y,{flights:S})]})},F=n(75),y=n(6),H=function(){return Object(u.jsx)(F.a,{children:Object(u.jsx)(y.a,{path:"/",component:U})})};n(132),n(133);a.a.render(Object(u.jsx)(H,{}),document.getElementById("root"))},62:function(e,t,n){}},[[134,1,2]]]);
//# sourceMappingURL=main.76db63f8.chunk.js.map